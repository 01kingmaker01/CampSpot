<%- include('./partials/header') %>
<h1 id="loginH1" class="text-center h1 mb-3">
  <a href="/campgrounds">
    <img style="width: 80px; height: 80px" src="/Group.png" alt=""
  /></a>

  <span class="mt-4 d-block">Log in to CampSpot</span>
</h1>

<div class="card card-body m-auto" style="width: 308px">
  <form action="/users/login" method="POST">
    <div class="form-group">
      <label for="username">Username</label>
      <input
        id="username"
        type="text"
        class="form-control"
        name="username"
        value="<%= typeof username!='undefined' ? username:'' %>"
      />
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        id="password"
        type="password"
        class="form-control"
        name="password"
        value="<%= typeof password!='undefined' ? password:'' %>"
      />
      <i class="far fa-eye float-right" id="togglePassword"></i>
    </div>
    <button class="btn btn-success btn-block">Log In</button>
  </form>
</div>

<p class="text-center mt-4">
  No Account?
  <a href="/users/register">Register</a>
</p>
<script>
  const togglePassword = document.querySelector('#togglePassword');
  const password = document.querySelector('#password');

  togglePassword.addEventListener('click', function (e) {
    // toggle the type attribute
    const type =
      password.getAttribute('type') === 'password' ? 'text' : 'password';
    password.setAttribute('type', type);
    // toggle the eye slash icon
    this.classList.toggle('fa-eye-slash');
  });
</script>
<%- include('./partials/footer') %>
